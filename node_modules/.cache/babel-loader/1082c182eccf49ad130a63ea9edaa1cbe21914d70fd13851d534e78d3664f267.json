{"ast":null,"code":"export default function autosize(textarea) {\n  var previousValue = null;\n  var isUserResized = false;\n  var x;\n  var y;\n  var height;\n  function onUserResize(event) {\n    if (x !== event.clientX || y !== event.clientY) {\n      var newHeight = textarea.style.height;\n      if (height && height !== newHeight) {\n        isUserResized = true;\n        textarea.style.maxHeight = '';\n        textarea.removeEventListener('mousemove', onUserResize);\n      }\n      height = newHeight;\n    }\n    x = event.clientX;\n    y = event.clientY;\n  }\n  var document = textarea.ownerDocument;\n  var documentElement = document.documentElement;\n  function overflowOffset() {\n    var offsetTop = 0;\n    var el = textarea;\n    while (el !== document.body && el !== null) {\n      offsetTop += el.offsetTop || 0;\n      el = el.offsetParent;\n    }\n    var top = offsetTop - document.defaultView.pageYOffset;\n    var bottom = documentElement.clientHeight - (top + textarea.offsetHeight);\n    return {\n      top: top,\n      bottom: bottom\n    };\n  }\n  function sizeToFit() {\n    if (isUserResized) return;\n    if (textarea.value === previousValue) return;\n    if (textarea.offsetWidth <= 0 && textarea.offsetHeight <= 0) return;\n    var _a = overflowOffset(),\n      top = _a.top,\n      bottom = _a.bottom;\n    if (top < 0 || bottom < 0) {\n      return;\n    }\n    var maxHeight = Number(getComputedStyle(textarea).height.replace(/px/, '')) + bottom;\n    textarea.style.maxHeight = maxHeight - 100 + \"px\";\n    var container = textarea.parentElement;\n    if (container instanceof HTMLElement) {\n      var containerHeight = container.style.height;\n      container.style.height = getComputedStyle(container).height;\n      textarea.style.height = 'auto';\n      textarea.style.height = textarea.scrollHeight + \"px\";\n      container.style.height = containerHeight;\n      height = textarea.style.height;\n    }\n    previousValue = textarea.value;\n  }\n  function onFormReset() {\n    isUserResized = false;\n    textarea.style.height = '';\n    textarea.style.maxHeight = '';\n  }\n  textarea.addEventListener('mousemove', onUserResize);\n  textarea.addEventListener('input', sizeToFit);\n  textarea.addEventListener('change', sizeToFit);\n  var form = textarea.form;\n  if (form) form.addEventListener('reset', onFormReset);\n  if (textarea.value) sizeToFit();\n  return {\n    unsubscribe: function () {\n      textarea.removeEventListener('mousemove', onUserResize);\n      textarea.removeEventListener('input', sizeToFit);\n      textarea.removeEventListener('change', sizeToFit);\n      if (form) form.removeEventListener('reset', onFormReset);\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}